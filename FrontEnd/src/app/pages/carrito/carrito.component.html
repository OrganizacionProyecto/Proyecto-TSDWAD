
<div class="carrito">
  <h2>Carrito</h2>

  <!-- Verificar que carrito y productos no sean nulos o undefined -->
  <div *ngIf="carrito && carrito.productos && carrito.productos.length > 0; else carritoVacio">
    <div *ngFor="let producto of carrito.productos" class="producto">
      <p><strong>{{ producto.nombre }}</strong></p>
      <p>Precio unitario: {{ producto.precio | currency }}</p>
      <p>Cantidad: 
        <input type="number" [(ngModel)]="producto.cantidad" (change)="modificarCantidad(producto.id_producto, producto.cantidad)" />
      </p>
      <p>Subtotal: {{ producto.cantidad * producto.precio | currency }}</p>
      <button (click)="eliminarProducto(producto.id_producto)">Eliminar</button>
    </div>
    <hr />
    <p><strong>Total:</strong> {{ carrito.total | currency }}</p>
  </div>

  <ng-template #carritoVacio>
    <p>Tu carrito está vacío.</p>
  </ng-template>
</div>
